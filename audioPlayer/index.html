<template id="audio-player">
  <style>
    .audio-player {
      margin: 20px 0;
      text-align: center;
      padding: 20px;
      box-shadow: 0px 0px 9px 3px #ddd;
      border-radius: 10px;
    }

    .btn {
      display: inline-block;
      border: 1px solid #ddd;
      padding: 3px 10px;
    }
  </style>
  <div class="audio-player">
    <h1 id="singName"></h1>
    <div>进度</div>
    <div>
      <span class="btn" style="color: #566af7">上一曲</span>
      <span id="playOrpause" class="btn" onclick="changeStatus()">暂停</span>
      <span class="btn">下一曲</span>
    </div>
  </div>
  <script src="/audioPlayer/index.js"></script>
</template>
<script>
  (function () {
    // Creates an object based in the HTML Element prototype
    // 基于HTML Element prototype 创建obj
    var element = Object.create(HTMLElement.prototype);
    // 获取特mplate的内容
    var template = document.currentScript.ownerDocument.querySelector('template').content;
    // element创建完成之后的回调
    element.createdCallback = function () {
      // 创建 shadow root
      var shadowRoot = this.createShadowRoot();
      // 向root中加入模板
      var clone = document.importNode(template, true);
      shadowRoot.appendChild(clone);
    };
    document.registerElement('audio-player', {
      prototype: element
    });
  }());
  window.onload = () => {
    window.audioPlayerComponent = document.querySelector('audio-player').shadowRoot
    var playOrPauseBtn = audioPlayerComponent.querySelector('#playOrpause')
    function changeStatus() {
      playStatus = audio.paused
      console.log(playStatus)
      if (playStatus) {
        console.log(1)
        audio.play()
        playOrPauseBtn.innerHTML = '暂停'
      } else {
        console.log(1)
        audio.pause()
        playOrPauseBtn.innerHTML = '播放'
      }
      console.log(1)
    }
  }
</script>